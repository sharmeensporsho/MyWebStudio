(()=>{function d(){let e=[26.2,15.2,14.2,8.2,7.2,7.2,6.2,5.2,5.2,5.2],t=document.querySelectorAll(".ring");var a=[],o=[],s=[],r=0;let i=document.querySelector(".pie"),c=document.querySelector(".pie .inner-circle"),l=document.querySelectorAll(".pie .text"),n=document.querySelector(".pie .background-circle");if(i){TweenMax.set(i,{visibility:"visible"}),t.forEach((q,g)=>{o.push(r);var m=r;TweenMax.set(".pie .ring-"+g,{drawSVG:r+"% "+r+"%",scale:.9,transformOrigin:"50% 50%"}),TweenMax.set(c,{drawSVG:"0% 0%",scale:.9,transformOrigin:"50% 50%"}),TweenMax.set(l,{opacity:0,y:-5,scale:1.15,transformOrigin:"50% 50%"}),TweenMax.set(n,{scale:0,transformOrigin:"50% 50%"}),r=r+e[g];var x=m+"% "+r+"%";a.push(x),s.push((m+(r-m)/2)/100*360)}),o.reverse(),s.reverse();let u=gsap.timeline({scrollTrigger:{trigger:i,start:"top center",end:"+=500"}});var T=u.timeScale();u.timeScale(.75);let b=gsap.utils.wrap(a);u.to(n,.75,{scale:.9,ease:"elastic.out(1.1, 1)"}).to(c,.5,{drawSVG:"100% 0%",ease:Power1.easeInOut}).to(t,.5,{drawSVG:b,ease:Power1.easeOut,stagger:0}).to(l,{duration:.5,opacity:1,y:0,stagger:{amount:.5}},"-=0.5")}}function w(){let e=document.querySelector(".waffle"),t=document.querySelectorAll('.waffle [class^="dot-"]'),a=document.querySelectorAll(".waffle .mobile"),o=document.querySelectorAll(".waffle .desktop");e&&(TweenMax.set(e,{visibility:"visible"}),TweenMax.set(t,{y:20,scale:0,transformOrigin:"50% 50%"}),gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"+=500"}}).to(t,{duration:1,y:0,scale:1,ease:"elastic.out(1, 0.6)",stagger:{amount:.5}}).to(a,{duration:.15,fill:"#43bccd",ease:"power1.out",stagger:{amount:.3}},"-=1").to(o,{duration:.15,fill:"#662e9b",ease:"power1.out",stagger:{amount:.3}},"-=0.65"))}function p(){let e=document.querySelector(".stadium"),t=document.querySelector(".stadium-background"),a=document.querySelectorAll(".stadium .seats-overlay"),o=document.querySelector(".stadium .pitch"),s=document.querySelectorAll('.stadium .seats [class^="S_"]'),r=document.querySelectorAll('.stadium .extra-third [class^="S_"]');e&&(TweenMax.set(e,{visibility:"visible"}),TweenMax.set(t,{scale:0,transformOrigin:"50% 50%"}),TweenMax.set([s,o,r],{opacity:0}),gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"+=500"}}).to(t,.75,{scale:1,ease:"elastic.out(1.1, 1)"}).to(o,.75,{opacity:1},"-=0.25").to(s,{duration:.5,opacity:1,ease:"power4.out",stagger:{amount:1.25}},"-=0.5").to(r,{duration:.1,opacity:1,ease:"power4.out",stagger:{amount:.5}},"-=0.45"))}function S(){let e=document.querySelector(".map"),t=document.querySelector(".map .areas"),a=document.querySelector(".map .cheltenham"),o=document.querySelectorAll(".map .surrounding");e&&(TweenMax.set(e,{visibility:"visible"}),TweenMax.set([t,o],{opacity:0}),TweenMax.set(a,{scale:0,transformOrigin:"50% 50%"}),gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"+=500"}}).to(t,.5,{opacity:1}).to(o,{duration:.25,opacity:1,ease:Power1.easeInOut,stagger:{amount:.5}},"-=0.5").to(a,{duration:.5,scale:1,ease:"elastic.out(1.1, 1)"}))}function f(){let e=document.querySelector(".browser-switcher"),t=document.querySelector(".browser-switcher__preview");gsap.registerPlugin(ScrollTrigger),e&&ScrollTrigger.matchMedia({"(min-width: 780px)":function(){gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"bottom 50%+=50px",scrub:1,endTrigger:'[data-js="browser-switcher-end"]'}}).to(t,{height:"300px"})}})}function y(){let e=document.querySelector(".logo"),t=document.querySelector(".logo .browser-outline"),a=document.querySelectorAll(".logo .browser-dot"),o=document.querySelector(".logo .browser-bar"),s=document.querySelector(".logo .browser-eye"),r=document.querySelector(".logo .browser-corner-lv"),i=document.querySelector(".logo .browser-corner-lh"),c=document.querySelector(".logo .browser-corner-rv"),l=document.querySelector(".logo .browser-corner-rh");TweenMax.set(e,{visibility:"visible"}),TweenMax.set([t,r,l],{drawSVG:"0% 0%"}),TweenMax.set([a,s],{scale:0,transformOrigin:"50% 50%"}),TweenMax.set(o,{y:-.5,drawSVG:"0% 0%"}),TweenMax.set(i,{y:-.5,rotation:180,transformOrigin:"50% 50%",drawSVG:"0% 0%"}),TweenMax.set(l,{rotation:180,transformOrigin:"50% 50%"}),TweenMax.set(c,{y:-.5,drawSVG:"0% 0%"});let n=gsap.timeline({scrollTrigger:{trigger:e,start:"top center",end:"+=200"}});var T=n.timeScale();n.timeScale(1.25),n.to(t,1,{drawSVG:"0% 100%",ease:Power4.easeInOut}).to(o,.25,{drawSVG:"0% 100%",ease:Power4.easeInOut},"-=0.15").to(a,{duration:1,scale:1,ease:"elastic.out(1, 0.7)",stagger:{amount:.2}}).to(r,.15,{drawSVG:"0% 100%",ease:Power4.easeOut},"-=0.15").to(i,.15,{drawSVG:"0% 100%",ease:Power4.easeOut},"-=0.05").to(c,.15,{drawSVG:"0% 100%",ease:Power4.easeOut},"-=0.05").to(l,.15,{drawSVG:"0% 100%",ease:Power4.easeOut},"-=0.05").to(s,{duration:.75,scale:1,ease:"elastic.out(1, 0.7)"},"-=0.05")}d();w();p();S();f();y();})();
